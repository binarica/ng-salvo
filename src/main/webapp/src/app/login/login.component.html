<div *ngIf="isLoggedIn(); else login">
	<h3>Hello {{ currentPlayer.email }}!</h3>
	<button type="button" class="btn btn-secondary" (click)="logout()">Log Out</button>
</div>

<ng-template #login>

	<form #loginForm="ngForm" (ngSubmit)="onSubmit(loginForm)" class="form-login">

		<ngb-alert [dismissible]="false">
			Please sign in
		</ngb-alert>
		
		<div class="form-group">
			<label for="username" class="sr-only">Username</label>
			<input type="email" id="username" name="username" class="form-control" placeholder="Username" required ngModel #username="ngModel" email>

			<ngb-alert *ngIf="username.invalid && (username.dirty || username.touched)" [type]="'danger'" [dismissible]="false">
				<div *ngIf="username.errors.required">
					Email is required.
				</div>
				<div *ngIf="username.errors.email">
					Please enter a valid email address.
				</div>
			</ngb-alert>

		</div>

		<div class="form-group">
			<label for="password" class="sr-only">Password</label>
			<input type="password" id="password" name="password" class="form-control" placeholder="Password" required ngModel #password="ngModel">

			<ngb-alert *ngIf="password.invalid && (password.dirty || password.touched)" [type]="'danger'" [dismissible]="false">
				<div *ngIf="password.errors.required">
					Password is required.
				</div>
			</ngb-alert>

		</div>

		<div class="row">
			<div class="col">
				<button type="submit" class="btn btn-primary btn-block" [disabled]="loginForm.invalid">Log In</button>
			</div>

			<div class="col">
				<button type="button" class="btn btn-success btn-block" [disabled]="loginForm.invalid" (click)="createNewPlayer(loginForm)">New Account</button>
			</div>
		</div>

	</form>

</ng-template>
